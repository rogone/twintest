// Code generated by github.com/rogone/twintest
package {{ .PackageName }}

import (
	"testing"
	"github.com/stretchr/testify/suite"
)

func Test{{ .StructInfo.Name }}TestSuite(t *testing.T) {
	suite.Run(t, new({{ .StructInfo.Name }}TestSuite))
}

type {{ .StructInfo.Name }}TestSuite struct {
	suite.Suite
}

// SetupAllSuite 在所有测试套件开始前运行
func (suite *{{ .StructInfo.Name }}TestSuite) SetupAllSuite() {
}

// TearDownAllSuite 在所有测试套件结束后运行
func (suite *{{ .StructInfo.Name }}TestSuite) TearDownAllSuite() {
}

// SetupTestSuite 在当前测试套件开始前运行
func (suite *{{ .StructInfo.Name }}TestSuite) SetupTestSuite() {
}

// TearDownTestSuite 在当前测试套件结束后运行
func (suite *{{ .StructInfo.Name }}TestSuite) TearDownTestSuite() {
}

// SetupSubTest 在每个子测试开始前运行
func (suite *{{ .StructInfo.Name }}TestSuite) SetupSubTest() {
}

// TearDownSubTest 在每个子测试结束后运行
func (suite *{{ .StructInfo.Name }}TestSuite) TearDownSubTest() {
}

// BeforeTest 在每个测试方法开始前运行
func (suite *{{ .StructInfo.Name }}TestSuite) BeforeTest(suiteName, testName string) {
}

// AfterTest 在每个测试方法结束后运行
func (suite *{{ .StructInfo.Name }}TestSuite) AfterTest(suiteName, testName string) {
}

// SetupSuite 在所有测试开始前运行
func (suite *{{ .StructInfo.Name }}TestSuite) SetupSuite() {
}

// SetupTest 在每个测试开始前运行
func (suite *{{ .StructInfo.Name }}TestSuite) SetupTest() {
}

// TearDownTest 在每个测试结束后运行
func (suite *{{ .StructInfo.Name }}TestSuite) TearDownTest() {
}

// TearDownSuite 在所有测试结束后运行
func (suite *{{ .StructInfo.Name }}TestSuite) TearDownSuite() {
}

{{range .StructInfo.Methods}}
func (suite *{{ .Receiver }}TestSuite) Test_{{ .Name }}() {
t := suite.T()
t.Logf("测试 {{.Name}} 方法")

{{ range .Branches -}}
{{- template "branch" . -}}
{{- end -}}
}
{{end}}

{{define "branch"}}
{{- $name := quote .CodeLine }}
t.Run({{ $name }}, func(t *testing.T) { // @{{ .Line }}
{{- if len .Children -}}
{{- range .Children -}}
{{- template "branch" . -}}
{{- end -}}
{{- else }}
t.Skip("未实现")
{{end -}}
})
{{end}}